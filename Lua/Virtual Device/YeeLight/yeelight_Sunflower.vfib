{"name":"yeelight Sunflower","type":"virtual_device","properties":{"deviceIcon":1017,"currentIcon":"1017","log":"","logTemp":"","mainLoop":"--[[fibaro:debug(\"############################################\");\n\n\nlocal Yeelight_Device_ID = fibaro:getSelfId();\nfibaro:debug(Yeelight_Device_ID);\nlocal Yeelight_IP_Address = fibaro:getValue(Yeelight_Device_ID, 'IPAddress');\nfibaro:debug(Yeelight_IP_Address);\nlocal Yeelight_TCP_Port = fibaro:getValue(Yeelight_Device_ID, 'TCPPort');\nfibaro:debug(Yeelight_TCP_Port);\nlocal Yeelight_Console = Net.FTcpSocket(Yeelight_IP_Address, Yeelight_TCP_Port);\n\nbytes, errorCode = Yeelight_Console:write('C 143E,255,0,10,10,\\r\\n');\nfibaro:sleep(1000);\nbytes, errorCode = Yeelight_Console:write('C 143E,255,165,0,20,\\r\\n');\nfibaro:sleep(1000);\nbytes, errorCode = Yeelight_Console:write('C 143E,255,255,0,20,\\r\\n');\nfibaro:sleep(1000);\nbytes, errorCode = Yeelight_Console:write('C 143E,0,255,0,20,\\r\\n');\nfibaro:sleep(1000);]]--\n\n--[[bytes, errorCode = Yeelight_Console:write('C 143E,0,0,255,20,\\r\\n');\nbytes, errorCode = Yeelight_Console:write('CB 143E');\nfibaro:sleep(1000);\nbytes, errorCode = Yeelight_Console:write('C 143E,255,250,250,20,\\r\\n');\nbytes, errorCode = Yeelight_Console:write('CB 143E');\nfibaro:sleep(1000);\nbytes, errorCode = Yeelight_Console:write('C 143E,160,32,240,20,\\r\\n');\nbytes, errorCode = Yeelight_Console:write('CB 143E');\nfibaro:sleep(1000);]]--\n","ui.brightness.value":0,"visible":"true","rows":[{"type":"button","elements":[{"id":1,"lua":true,"waitForResponse":false,"caption":"YEELIGHT_ON","name":"Button11","empty":false,"msg":"local Yeelight_Device_ID = fibaro:getSelfId();\nfibaro:debug(Yeelight_Device_ID);\nlocal Yeelight_IP_Address = fibaro:getValue(Yeelight_Device_ID, 'IPAddress');\nfibaro:debug(Yeelight_IP_Address);\nlocal Yeelight_TCP_Port = fibaro:getValue(Yeelight_Device_ID, 'TCPPort');\nfibaro:debug(Yeelight_TCP_Port);\nlocal Yeelight_Console = Net.FTcpSocket(Yeelight_IP_Address, Yeelight_TCP_Port);\nbytes, errorCode = Yeelight_Console:write('C 143E,,,,100,\\r\\n');\nfibaro:sleep(6);\nbytes, errorCode = Yeelight_Console:write('C 287B,,,,100,\\r\\n');\nfibaro:sleep(6);","buttonIcon":0,"favourite":false,"main":false},{"id":2,"lua":true,"waitForResponse":false,"caption":"YEELIGHT_OFF","name":"Button12","empty":false,"msg":"local Yeelight_Device_ID = fibaro:getSelfId();\nfibaro:debug(Yeelight_Device_ID);\nlocal Yeelight_IP_Address = fibaro:getValue(Yeelight_Device_ID, 'IPAddress');\nfibaro:debug(Yeelight_IP_Address);\nlocal Yeelight_TCP_Port = fibaro:getValue(Yeelight_Device_ID, 'TCPPort');\nfibaro:debug(Yeelight_TCP_Port);\nlocal Yeelight_Console = Net.FTcpSocket(Yeelight_IP_Address, Yeelight_TCP_Port);\nbytes, errorCode = Yeelight_Console:write('C 143E,,,,0,\\r\\n');\nfibaro:sleep(6);\nbytes, errorCode = Yeelight_Console:write('C 287B,,,,0,\\r\\n');\nfibaro:sleep(6);","buttonIcon":0,"favourite":false,"main":false}]},{"type":"slider","elements":[{"id":3,"lua":true,"waitForResponse":false,"caption":"YL_BRIGHTNESS","name":"brightness","msg":"local Yeelight_Device_ID = fibaro:getSelfId();\nfibaro:debug(Yeelight_Device_ID);\nlocal Yeelight_IP_Address = fibaro:getValue(Yeelight_Device_ID, 'IPAddress');\nfibaro:debug(Yeelight_IP_Address);\nlocal Yeelight_TCP_Port = fibaro:getValue(Yeelight_Device_ID, 'TCPPort');\nfibaro:debug(Yeelight_TCP_Port);\nlocal Yeelight_Console = Net.FTcpSocket(Yeelight_IP_Address, Yeelight_TCP_Port);\nlocal brightness = fibaro:getValue(Yeelight_Device_ID, \"ui.brightness.value\");\nbytes, errorCode = Yeelight_Console:write('C 143E,,,,'..brightness..',\\r\\n');\nfibaro:sleep(6);\nbytes, errorCode = Yeelight_Console:write('C 287B,,,,'..brightness..',\\r\\n');\nfibaro:sleep(6);","buttonIcon":0,"value":0,"favourite":false,"main":false}]},{"type":"button","elements":[{"id":4,"lua":true,"waitForResponse":false,"caption":"RED","name":"red","empty":false,"msg":"local Yeelight_Device_ID = fibaro:getSelfId();\nfibaro:debug(Yeelight_Device_ID);\nlocal Yeelight_IP_Address = fibaro:getValue(Yeelight_Device_ID, 'IPAddress');\nfibaro:debug(Yeelight_IP_Address);\nlocal Yeelight_TCP_Port = fibaro:getValue(Yeelight_Device_ID, 'TCPPort');\nfibaro:debug(Yeelight_TCP_Port);\nlocal Yeelight_Console = Net.FTcpSocket(Yeelight_IP_Address, Yeelight_TCP_Port);\n\nbytes, errorCode = Yeelight_Console:write('C 143E,255,0,0,,\\r\\n');\nfibaro:sleep(6);\nbytes, errorCode = Yeelight_Console:write('C 287B,255,0,0,,\\r\\n');\nfibaro:sleep(6);","buttonIcon":0,"favourite":false,"main":false},{"id":5,"lua":true,"waitForResponse":false,"caption":"ORG","name":"org","empty":false,"msg":"local Yeelight_Device_ID = fibaro:getSelfId();\nfibaro:debug(Yeelight_Device_ID);\nlocal Yeelight_IP_Address = fibaro:getValue(Yeelight_Device_ID, 'IPAddress');\nfibaro:debug(Yeelight_IP_Address);\nlocal Yeelight_TCP_Port = fibaro:getValue(Yeelight_Device_ID, 'TCPPort');\nfibaro:debug(Yeelight_TCP_Port);\nlocal Yeelight_Console = Net.FTcpSocket(Yeelight_IP_Address, Yeelight_TCP_Port);\n\nbytes, errorCode = Yeelight_Console:write('C 143E,255,165,0,,\\r\\n');\nfibaro:sleep(6);\nbytes, errorCode = Yeelight_Console:write('C 287B,255,165,0,,\\r\\n');\nfibaro:sleep(6);","buttonIcon":0,"favourite":false,"main":false},{"id":6,"lua":true,"waitForResponse":false,"caption":"YLW","name":"ylw","empty":false,"msg":"local Yeelight_Device_ID = fibaro:getSelfId();\nfibaro:debug(Yeelight_Device_ID);\nlocal Yeelight_IP_Address = fibaro:getValue(Yeelight_Device_ID, 'IPAddress');\nfibaro:debug(Yeelight_IP_Address);\nlocal Yeelight_TCP_Port = fibaro:getValue(Yeelight_Device_ID, 'TCPPort');\nfibaro:debug(Yeelight_TCP_Port);\nlocal Yeelight_Console = Net.FTcpSocket(Yeelight_IP_Address, Yeelight_TCP_Port);\n\nbytes, errorCode = Yeelight_Console:write('C 143E,255,255,0,,\\r\\n');\nfibaro:sleep(6);\nbytes, errorCode = Yeelight_Console:write('C 287B,255,255,0,,\\r\\n');\nfibaro:sleep(6);","buttonIcon":0,"favourite":false,"main":false},{"id":7,"lua":true,"waitForResponse":false,"caption":"GRN","name":"grn","empty":false,"msg":"local Yeelight_Device_ID = fibaro:getSelfId();\nfibaro:debug(Yeelight_Device_ID);\nlocal Yeelight_IP_Address = fibaro:getValue(Yeelight_Device_ID, 'IPAddress');\nfibaro:debug(Yeelight_IP_Address);\nlocal Yeelight_TCP_Port = fibaro:getValue(Yeelight_Device_ID, 'TCPPort');\nfibaro:debug(Yeelight_TCP_Port);\nlocal Yeelight_Console = Net.FTcpSocket(Yeelight_IP_Address, Yeelight_TCP_Port);\n\nbytes, errorCode = Yeelight_Console:write('C 143E,0,255,0,,\\r\\n');\nfibaro:sleep(6);\nbytes, errorCode = Yeelight_Console:write('C 287B,0,255,0,,\\r\\n');\nfibaro:sleep(6);","buttonIcon":0,"favourite":false,"main":false},{"id":8,"lua":true,"waitForResponse":false,"caption":"BLU","name":"blu","empty":false,"msg":"local Yeelight_Device_ID = fibaro:getSelfId();\nfibaro:debug(Yeelight_Device_ID);\nlocal Yeelight_IP_Address = fibaro:getValue(Yeelight_Device_ID, 'IPAddress');\nfibaro:debug(Yeelight_IP_Address);\nlocal Yeelight_TCP_Port = fibaro:getValue(Yeelight_Device_ID, 'TCPPort');\nfibaro:debug(Yeelight_TCP_Port);\nlocal Yeelight_Console = Net.FTcpSocket(Yeelight_IP_Address, Yeelight_TCP_Port);\n\nbytes, errorCode = Yeelight_Console:write('C 143E,0,0,255,,\\r\\n');\nfibaro:sleep(6);\nbytes, errorCode = Yeelight_Console:write('C 287B,0,0,255,,\\r\\n');\nfibaro:sleep(6);","buttonIcon":0,"favourite":false,"main":true}]}]},"actions":{"pressButton":1,"setSlider":2,"setProperty":2}}